---
title: 如何解决跨域问题
date: 2023-08-21 11:44:39
tags: Spring
category: Java
---

## 方法一
定义一个配置类，实现WebMvcConfigurer接口，重写addCorsMappings方法
```
@Configuration
public class CorsConfig implements WebMvcConfigurer {

    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**")
                .allowedOriginPatterns("*")
                .allowCredentials(true)
                .allowedMethods("*")
                .maxAge(3600);
    }
}
```
## 方法二
在xml中添加如下配置:
```
<mvc:cors>
  <mvc:mapping path="/**"/>
</mvc:cors>
```
## 方法三
在vue项目中
vue.config.js内配置代理：
```
module.exports = defineConfig({
  transpileDependencies: true,
  devServer: {
    // 配置代理
    proxy:{
      '/api':{ // 所有以/api开头的请求都会被代理到target上
        target: 'http://localhost:8080', // 代理的目标地址
        changeOrigin: true, // 支持跨域
        pathRewrite: { // 重写路径
          '^/api': ''
        }
      }
    }
  }
```
在main.js中配置axios：
```
// axios配置
import axios from 'axios'
axios.defaults.baseURL = '/api/'
Vue.prototype.$http = axios
```
在组件中method中定义方法：
```
async getCode(){
	const {data:res} = await this.$http.get('captchaImage')
},
```